<!-- scroll-switcher.html -->
<!-- Custom Elements -->
<link rel="import" href="../iron-resizable-relay/iron-resizable-relay.html">

<dom-module id="scroll-switcher">
  <template>
    <style>
      @keyframes headingEnter {
        from {

        }

        50% {

        }

        to {

        }
      }

      @keyframes headingExit {

      }

      @keyframes roverEnter {

      }

      @keyframes roverexit {

      }

      :host {
        position: relative;
        height: 100%;
        width: 100%;

        background: var(--app-background);

        --horizontal-offset: 0px;
        --vertical-offset: 0px;
      }

      #roverImage {
        position: absolute;
        top: calc(50% - 160px);
        left: 0;
        right: 0;
        margin: 0 auto;

        width: 300px;
        transform: translateX(calc(0.7 * var(--horizontal-offset))) translateY(calc(0.7 * var(--vertical-offset)));
      }

      :host([viewing="content"]) #roverImage {
        transform: translateX(calc(0.7 * var(--horizontal-offset))) translateY(calc(0.7 * var(--vertical-offset))) translateX(100vw);
      }

      #headingWrapper {
        @apply --layout-vertical;
        @apply --layout-center;

        position: absolute;
        top: calc(50% - 20px);
        left: 0;
        right: 0;
        margin: 0 auto;
        color: var(--dark-strong-alpha);

        transform: translateX(calc(1 * var(--horizontal-offset))) translateY(calc(1 * var(--vertical-offset)));

        transition-property: transform, color, top;
        transition-duration: 0.3s;
        transition-timing-function: ease-out, ease-out, ease-in-out;
        transition-delay: 0s, 0.3s, 0.6s;
      }

      :host([viewing="content"]) #headingWrapper {
        top: 0;
        color: var(--app-background);
        transform: translateX(0) translateY(-10px);
      }

      #mainHeading {
        font-size: 4rem;
      }

      #secondaryHeading {
        margin-top: -15px;
        font-size: 1.5rem;
      }

      #mainHeading,
      #secondaryHeading {
        text-align: center;
        cursor: default;
        user-select: none;

        transition-property: transform, margin-top;
        transition-duration: 0.3s;
        transition-timing-function: ease-in-out;
        transition-delay: 0.6s;
      }

      :host([viewing="content"]) #mainHeading,
      :host([viewing="content"]) #secondaryHeading {
        transform: scale(0.5);
      }

      :host([viewing="content"]) #secondaryHeading {
        margin-top: -40px;
      }

      .gap {
        height: 40px;
      }

      #arrowDown {
        position: absolute;
        bottom: 20px;
        left: 0;
        right: 0;
        margin: 0 auto;
        color: var(--dark-normal-alpha);

        transform: translateX(calc(0.3 * var(--horizontal-offset))) translateY(calc(0.3 * var(--vertical-offset)));

        --iron-icon-height: 40px;
        --iron-icon-width: var(--iron-icon-height);
      }

      :host([on-the-chevron]) #arrowDown {
        color: var(--dark-strong-alpha);

        transform: scale(1.3) translateX(calc(0.3 * var(--horizontal-offset))) translateY(calc(0.3 * var(--vertical-offset)));
      }

      :host([viewing="content"]) #arrowDown {
        color: var(--light-normal-alpha);
        transform: translateX(calc(0.3 * var(--horizontal-offset))) translateY(calc(0.3 * var(--vertical-offset))) scaleY(-1);
      }

      :host([on-the-chevron][viewing="content"]) #arrowDown {
        color: var(--light-strong-alpha);
        transform: scale(1.3) translateX(calc(0.3 * var(--horizontal-offset))) translateY(calc(0.3 * var(--vertical-offset))) scaleY(-1);
      }

      .parallax {
        transition-property: transform, color;
        transition-duration: 0.3s;
        transition-timing-function: ease-out;
      }

      .view::slotted(*) {
        height: 100vh;
        width: 100vw;
        opacity: 1;
        background: var(--dark-strong-alpha);

        transition: opacity 0.3s ease-in-out 0.3s;
      }

      :host([viewing="cover"]) .view::slotted(*) {
        opacity: 0;
      }

    </style>

    <!-- Content -->
    <slot class="view" name="content"></slot>

    <img id="roverImage" class="parallax" src="../../resources/images/site-cover-rover.jpg" alt="The rover!"/>
    <div id="headingWrapper">
      <span id="mainHeading"><b>UCT</b> Mars Rover</span>
      <span id="secondaryHeading">An open Mars Curiosity Rover simulator.</span>
    </div>
    <iron-icon id="arrowDown" class="parallax" icon="site:down-double-chevron"></iron-icon>


    <iron-resizable-relay id="ironResizableRelay"></iron-resizable-relay>
  </template>
  <script src="scroll-switcher.js" charset="utf-8"></script>
</dom-module>
